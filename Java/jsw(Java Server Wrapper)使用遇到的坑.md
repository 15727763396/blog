---
title: jsw(Java Server Wrapper)使用遇到的坑
date: 2017-05-15 19:56:24
tags: 
    - Java
---
## 前言

在实际开发过程中很多模块需要独立运行，他们并不会以web形式发布，传统的做法是将其压缩为jar包独立运行，这种形式简单易行也比较利于维护，但是 一旦服务器重启或出现异常时，程序往往无法自行修复或重启。解决服务器重启的传统做法是编写一段shell脚本随服务器启动而运行。但现在我们有一种更加简洁实用的方法可以解决上述问题—— Java Service Wrapper (JSW)。

Java Service Wrapper 顾名思义就是将java程序包装成系统程序，这样可以随着系统的运行而运行。换句话说 JSW可以将我们的java后台程序包装成一个后台服务运行。除此之外，JSW还可以在java程序挂掉以后自动拉起服务，相当于提供了一个守护进程。JSW主要目标就是，单点服务尽可能做到高可靠，程序挂了之后立马拉起，这样能够大大降低运维成本。




## JSW简介

JSW除了支持 Windows和Linux还支持其他平台，几乎包含了所有的系统环境，十分强大，JSW分为社区版和企业版，社区版开源并且免费，企业版收费但是功能更加强大！

>特性：1、多平台支持
　　　 2、简单的安装步骤，即可将java程序当成后台进程方式运行
　　　 3、Java服务高可靠，服务挂了立马拉起
　　　 4、无需编写脚本，灵活配置，可定制化JSW的配置和JVM的配置
　　　 5、Log功能(针对Java标准控制台输出)

## 遇到的问题

jsw部署包在bin目录下存在应用的一些可执行文件，如app.sh,app.bat等，支持以下几种命令

```yaml
app.sh start
app.sh stop
app.sh console
app.sh restart
```

其中start命令会在logs（默认日志文件）生成一个pid文件用来记录此时启动的端口信息，该信息不可删除，否则应用关闭或重启时会出现问题